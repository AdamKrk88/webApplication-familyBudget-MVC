{% extends 'base.html' %}

{% block title %}Expense list{% endblock %}

{% block dataTable %}

<link href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

{% endblock %} 

{% block header %}

<header>	
    <nav class="navbar navbar-expand-lg navbar-light-yellow">
        <a class="navbar-brand" href="/menu/display"><img class="me-1 ms-1 d-inline-block align-middle" src="/images/gold-ingots.png" alt="Gold bar" /><span class="text-uppercase font-weight-bold font-size-scaled-from-30px-navbar align-middle">Budget Manager</span></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainmenu" aria-controls="mainmenu" aria-expanded="false" aria-label="Button to open main menu options">
            <span class="navbar-toggler-icon">
                <i class="icon-menu"></i>
            </span>
        </button>
        <div class="collapse navbar-collapse" id="mainmenu">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item text-center"><a class="nav-link" href="/income/display-income-form">Add income</a></li>
                <li class="nav-item text-center"><a class="nav-link" href="/expense/display-expense-form">Add expense</a></li>
                <li class="nav-item text-center"><a class="nav-link" href="/balance/display-balance-review">Review balance</a></li>
                <li class="nav-item text-center"><a class="nav-link active" href="/settings/display-settings-options" aria-current="page">Settings</a></li>
                <li class="nav-item text-center"><a class="nav-link" href="/logout">Log out</a></li>
            </ul>
        </div>
    </nav>		
 </header>

{% endblock %}

{% block body %}

<main class="content-wrapper">
    <div class ="row g-0 pt-3">
        <header>
            <div class ="col-12 font-size-scaled-from-15px">
                <h2 class="font-color-black bg-light-grey text-center fw-bolder font-size-scaled-from-30px position-relative mb-0 mt-2 py-1">Expense
                    <a class="position-absolute top-50 end-0 translate-middle-y font-size-scaled-from-15px link-registration-income-expense font-color-black py-1 pe-2 fst-italic" href="/settings/display-settings/expense">Back</a>
                </h2>
                <div class="underline mb-2"></div>
            </div>
        </header>
    </div>
    <div class ="row g-0 mt-4">
        <article>
            <div class ="col-12 font-size-scaled-from-15px">
                <table id="myDataTable" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th width="10%">Number</th>
                            <th width="10%">Amount</th>
                            <th width="20%">Category</th>
                            <th width="20%">Payment method</th>
                            <th width="15%">Date</th>
                            <th width="25%">Comment</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% if expenses is not empty %}
                        {% for expense in expenses %}
                        <tr>
                            <td>{{ loop.index }}</td>
                            <td>{{ expense.amount }}</td>
                            <td>{{ expense.expense_category_assigned_to_user_id }}</td>
                            <td>{{ expense.payment_method_assigned_to_user_id }}</td>
                            <td>{{ expense.date_of_expense }}</td>
                            <td>{{ expense.expense_comment }}</td>
                        </tr>
                        {% endfor %}
                    {% endif %}
                    </tbody>  
                </table>
            </div> 
        </article>
    </div>
</main>

{% endblock %}

{% block footer %}

<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<script src="/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script src="/js/dataTableStyle.js"></script>

{% endblock %}

